<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test PlantBook Endpoints</title>
</head>
<body>
<h1>Test PlantBook Endpoints</h1>

<!-- Form to search plants by name -->
<h2>Search Plant by Name</h2>
<form id="searchForm">
  <label for="plantName">Plant Name:</label>
  <input type="text" id="plantName" name="plantName" required>
  <button type="submit">Search</button>
</form>

<h2>Search Results:</h2>
<pre id="results"></pre>

<!-- Form to get plant details by PID -->
<h2>Get Plant Details by PID</h2>
<form id="detailsForm">
  <label for="plantPid">Plant PID:</label>
  <input type="text" id="plantPid" name="plantPid" required>
  <button type="submit">Get Details</button>
</form>

<h2>Plant Details:</h2>
<pre id="plantDetails"></pre>

<script>
  // Handle search by name
  document.getElementById('searchForm').addEventListener('submit', async function(event) {
    event.preventDefault();
    const plantName = document.getElementById('plantName').value;
    const resultsElement = document.getElementById('results');
    resultsElement.textContent = 'Loading...';

    try {
      const response = await fetch(`http://127.0.0.1:3000/plant/searchPlantBookByName/${plantName}`);
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      const data = await response.json();
      resultsElement.textContent = JSON.stringify(data, null, 2);
    } catch (error) {
      resultsElement.textContent = `Error: ${error.message}`;
    }
  });

  // Handle get details by PID
  document.getElementById('detailsForm').addEventListener('submit', async function(event) {
    event.preventDefault();
    const plantPid = document.getElementById('plantPid').value;
    const detailsElement = document.getElementById('plantDetails');
    detailsElement.textContent = 'Loading...';

    try {
      const response = await fetch(`http://127.0.0.1:3000/plant/getPlantBookDetails/${plantPid}`);
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      const data = await response.json();
      detailsElement.textContent = JSON.stringify(data, null, 2);
    } catch (error) {
      detailsElement.textContent = `Error: ${error.message}`;
    }
  });
</script>
</body>
</html>
